
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>wlog</title>
  <meta name="author" content="w">

  
  <meta name="description" content="最近用到 js 中的 fetch 發現 Content-Type 會因為參數而改變 例如 1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
const options = { method, headers: { Accept: 'application/ &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://whhotw.github.io/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="wlog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-79919379-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">wlog</a></h1>
  
    <h2>As title worklog</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="whhotw.github.io">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Post</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2018/03/20/fetch-api-content-type/">Fetch API Content-Type</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2018-03-20T09:38:46+08:00'><span class='date'><span class='date-month'>Mar</span> <span class='date-day'>20</span><span class='date-suffix'>th</span>, <span class='date-year'>2018</span></span> <span class='time'>9:38 am</span></time>
        
           | <a href="/blog/2018/03/20/fetch-api-content-type/#disqus_thread"
             data-disqus-identifier="http://whhotw.github.io/blog/2018/03/20/fetch-api-content-type/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>最近用到 js 中的 <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API">fetch</a> 發現 <code>Content-Type</code> 會因為參數而改變</p>

<p>例如</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>const options = {
</span><span class='line'>  method,
</span><span class='line'>  headers: {
</span><span class='line'>    Accept: 'application/json',
</span><span class='line'>    'Content-Type': 'application/json', // 指定
</span><span class='line'>  },
</span><span class='line'>  body: params, // 第二張圖
</span><span class='line'>  // body: JSON.stringify(params), // 第一張圖
</span><span class='line'>};
</span><span class='line'>    
</span><span class='line'>return fetch(url, options)
</span><span class='line'>  .then((res) =&gt; {
</span><span class='line'>    if (!res.ok) {
</span><span class='line'>      throw new Error('請檢查網路連線');
</span><span class='line'>    }
</span><span class='line'>
</span><span class='line'>    return res.json();
</span><span class='line'>  });</span></code></pre></td></tr></table></div></figure>


<p>假如 <code>params</code> 沒有用 <code>JSON.stringify</code> 的話，實際傳出去的 <code>Content-Type</code> 不一定是 <code>application/json</code></p>

<p>我用 wireshark 做的實驗</p>

<p><img src="/assets/Screen%20Shot%202018-03-20%20at%2009.44.19.png" width="1080" height="1920"></p>

<p><img src="/assets/Screen%20Shot%202018-03-20%20at%2009.44.05.png" width="1080" height="1920"></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2018/03/14/yin-chu-osx-shang-de-ios-mo-ni-qi-qing-dan/">印出 OSX 上的模擬器</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2018-03-14T11:04:15+08:00'><span class='date'><span class='date-month'>Mar</span> <span class='date-day'>14</span><span class='date-suffix'>th</span>, <span class='date-year'>2018</span></span> <span class='time'>11:04 am</span></time>
        
           | <a href="/blog/2018/03/14/yin-chu-osx-shang-de-ios-mo-ni-qi-qing-dan/#disqus_thread"
             data-disqus-identifier="http://whhotw.github.io/blog/2018/03/14/yin-chu-osx-shang-de-ios-mo-ni-qi-qing-dan/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>▶ xcrun simctl list devices
</span><span class='line'>== Devices ==
</span><span class='line'>-- iOS 9.3 --
</span><span class='line'>-- iOS 10.1 --
</span><span class='line'>-- iOS 11.2 --
</span><span class='line'>    iPhone 8 (C34476E5-474D-4295-B113-07A1C9A58F7C) (Booted)
</span><span class='line'>    iPhone 8 Plus (7D2939FA-6C7C-4ECC-91BA-B81245193273) (Shutdown)
</span><span class='line'>    iPhone SE (F6FC4EB2-57A8-43A5-B3DF-3C2D0D86EAB5) (Shutdown)
</span><span class='line'>    iPhone X (CF6EAD3A-D89A-416B-9E22-A9FEE01FABC0) (Shutdown)
</span><span class='line'>-- tvOS 11.2 --
</span><span class='line'>-- watchOS 4.2 --
</span><span class='line'>    Apple Watch - 38mm (762755FE-F880-4D3F-AC59-5273E136AA22) (Shutdown)
</span><span class='line'>    Apple Watch - 42mm (9C46B910-2347-4632-87C1-4CB7C146A7DA) (Shutdown)
</span><span class='line'>    Apple Watch Series 3 - 38mm (1636D402-593A-4E43-8936-5F8269FC8E06) (Shutdown)
</span><span class='line'>    Apple Watch Series 3 - 42mm (F44308B7-7EE5-451E-A5BE-47C4AF6D2182) (Shutdown)
</span><span class='line'>-- Unavailable: com.apple.CoreSimulator.SimRuntime.iOS-10-3 --
</span><span class='line'>    iPhone 7 Plus (93B3F053-7A69-462B-995C-FDBB0DECD696) (Shutdown) (unavailable, runtime profile not found)
</span><span class='line'>    iPad Air (D32532AE-CAD0-4A33-B5C3-D7D6603CD14A) (Shutdown) (unavailable, runtime profile not found)
</span><span class='line'>-- Unavailable: com.apple.CoreSimulator.SimRuntime.iOS-11-1 --
</span><span class='line'>    iPad Air (458272DE-23F5-4402-9499-38D34EE0C2C4) (Shutdown) (unavailable, runtime profile not found)
</span><span class='line'>-- Unavailable: com.apple.CoreSimulator.SimRuntime.watchOS-3-1 --
</span><span class='line'>    Apple Watch - 38mm (F517E442-BA3D-414E-8AC6-DC3DADEBBBA5) (Shutdown) (unavailable, runtime profile not found)
</span><span class='line'>    Apple Watch - 42mm (77DAED46-0C55-4BF1-BEFB-29CFBF1878B9) (Shutdown) (unavailable, runtime profile not found)
</span><span class='line'>    Apple Watch Series 2 - 38mm (3BC9851A-B5F0-4388-AB2F-970615C09131) (Shutdown) (unavailable, runtime profile not found)
</span><span class='line'>    Apple Watch Series 2 - 42mm (D96A8FAE-A911-4F6E-B410-394F612D72A5) (Shutdown) (unavailable, runtime profile not found)
</span><span class='line'>-- Unavailable: com.apple.CoreSimulator.SimRuntime.watchOS-3-2 --
</span><span class='line'>    Apple Watch - 38mm (79FE64E2-6561-460D-B3B2-85D6E27E504C) (Shutdown) (unavailable, runtime profile not found)
</span><span class='line'>    Apple Watch - 42mm (FAEC2DB5-99B5-406A-A9B9-2CCD0280802B) (Shutdown) (unavailable, runtime profile not found)
</span><span class='line'>    Apple Watch Series 2 - 38mm (56BE61D3-3CDD-44CD-A383-C4B72F862A7F) (Shutdown) (unavailable, runtime profile not found)
</span><span class='line'>    Apple Watch Series 2 - 42mm (D01D1358-9E50-4DCC-B1A0-58A1AED5A57A) (Shutdown) (unavailable, runtime profile not found)
</span><span class='line'>-- Unavailable: com.apple.CoreSimulator.SimRuntime.watchOS-4-1 --
</span><span class='line'>    Apple Watch - 38mm (83E57EAD-BC33-4ADA-AC43-C70DE030CB13) (Shutdown) (unavailable, runtime profile not found)
</span><span class='line'>    Apple Watch - 42mm (45F4AB4B-CEFB-4F88-8ADD-B491E8AEDB51) (Shutdown) (unavailable, runtime profile not found)
</span><span class='line'>    Apple Watch Series 2 - 38mm (DE82F3F9-0B17-4914-A146-CE8B047A0D32) (Shutdown) (unavailable, runtime profile not found)
</span><span class='line'>    Apple Watch Series 2 - 42mm (1B69D57E-707E-4458-9A38-0142FADE86B4) (Shutdown) (unavailable, runtime profile not found)
</span><span class='line'>    Apple Watch Series 3 - 38mm (8F4B32E9-EBC3-46F8-B1A1-F30C8D863F65) (Shutdown) (unavailable, runtime profile not found)
</span><span class='line'>    Apple Watch Series 3 - 42mm (586539F8-FE12-4354-A102-3A17F71E867A) (Shutdown) (unavailable, runtime profile not found)</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2018/03/08/react-native-navigation-xian-shi-m-tou-ming-bei-jing/">React Native Navigation 顯示 Modal 透明背景</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2018-03-08T19:15:14+08:00'><span class='date'><span class='date-month'>Mar</span> <span class='date-day'>8</span><span class='date-suffix'>th</span>, <span class='date-year'>2018</span></span> <span class='time'>7:15 pm</span></time>
        
           | <a href="/blog/2018/03/08/react-native-navigation-xian-shi-m-tou-ming-bei-jing/#disqus_thread"
             data-disqus-identifier="http://whhotw.github.io/blog/2018/03/08/react-native-navigation-xian-shi-m-tou-ming-bei-jing/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>不透明的背景</p>

<p><img src="/assets/Simulator%20Screen%20Shot%20-%20iPhone%208%20-%202018-03-08%20at%2019.17.36.png" width="360" height="640"></p>

<p>透明的背景</p>

<p><img src="/assets/Simulator%20Screen%20Shot%20-%20iPhone%208%20-%202018-03-08%20at%2019.27.42.png" width="360" height="640"></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>static navigatorStyle = {
</span><span class='line'>  screenBackgroundColor: 'transparent',
</span><span class='line'>  modalPresentationStyle: 'overFullScreen'
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2018/03/02/wo-zi-ji-de-rn-xiang-mu-pei-zhi/">我自己的 RN 項目配置</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2018-03-02T01:34:59+08:00'><span class='date'><span class='date-month'>Mar</span> <span class='date-day'>2</span><span class='date-suffix'>nd</span>, <span class='date-year'>2018</span></span> <span class='time'>1:34 am</span></time>
        
           | <a href="/blog/2018/03/02/wo-zi-ji-de-rn-xiang-mu-pei-zhi/#disqus_thread"
             data-disqus-identifier="http://whhotw.github.io/blog/2018/03/02/wo-zi-ji-de-rn-xiang-mu-pei-zhi/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>記錄一下，建立一個新的 RN 項目時的步驟，每次都會忘記，再加上改版時不時就跑出一推問題，麻煩！這只是我個人有用到一些套件與建立步驟</p>

<h1>CLI</h1>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>yarn init ${PROJECT_NAME} --version 0.51.0
</span><span class='line'>yarn add redux-thunk redux-logger redux react-redux react-native-navigation react-native-vector-icons react-native-i18n react-native-elements prop-types
</span><span class='line'>yarn add babel-eslint eslint eslint-config-airbnb eslint-plugin-import eslint-plugin-jsx-a11y eslint-plugin-react babel-core@6.0.0 --dev</span></code></pre></td></tr></table></div></figure>


<h1>package.json</h1>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{
</span><span class='line'>  "name": "${PROJECT_NAME}",
</span><span class='line'>  "version": "0.0.1",
</span><span class='line'>  "private": true,
</span><span class='line'>  "scripts": {
</span><span class='line'>    "start": "node node_modules/react-native/local-cli/cli.js start",
</span><span class='line'>    "test": "jest"
</span><span class='line'>  },
</span><span class='line'>  "dependencies": {
</span><span class='line'>    "prop-types": "^15.6.1",
</span><span class='line'>    "react": "16.0.0",
</span><span class='line'>    "react-native": "0.51.0",
</span><span class='line'>    "react-native-elements": "^0.19.0",
</span><span class='line'>    "react-native-i18n": "^2.0.12",
</span><span class='line'>    "react-native-navigation": "^1.1.393",
</span><span class='line'>    "react-native-vector-icons": "^4.5.0",
</span><span class='line'>    "react-redux": "^5.0.7",
</span><span class='line'>    "redux": "^3.7.2",
</span><span class='line'>    "redux-logger": "^3.0.6",
</span><span class='line'>    "redux-thunk": "^2.2.0"
</span><span class='line'>  },
</span><span class='line'>  "devDependencies": {
</span><span class='line'>    "babel-core": "6.0.0",
</span><span class='line'>    "babel-eslint": "^8.2.2",
</span><span class='line'>    "babel-jest": "22.4.1",
</span><span class='line'>    "babel-preset-react-native": "4.0.0",
</span><span class='line'>    "eslint": "^4.18.1",
</span><span class='line'>    "eslint-config-airbnb": "^16.1.0",
</span><span class='line'>    "eslint-plugin-import": "^2.9.0",
</span><span class='line'>    "eslint-plugin-jsx-a11y": "^6.0.3",
</span><span class='line'>    "eslint-plugin-react": "^7.7.0",
</span><span class='line'>    "jest": "22.4.2",
</span><span class='line'>    "react-test-renderer": "16.0.0"
</span><span class='line'>  },
</span><span class='line'>  "jest": {
</span><span class='line'>    "preset": "react-native"
</span><span class='line'>  },
</span><span class='line'>  "rnpm": {
</span><span class='line'>    "assets": [
</span><span class='line'>      "./src/fonts"
</span><span class='line'>    ]
</span><span class='line'>  }
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<h1>Directory tree</h1>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>▶ tree -La 1
</span><span class='line'>.
</span><span class='line'>├── .babelrc
</span><span class='line'>├── .buckconfig
</span><span class='line'>├── .eslintrc
</span><span class='line'>├── .flowconfig
</span><span class='line'>├── .gitattributes
</span><span class='line'>├── .gitignore
</span><span class='line'>├── .watchmanconfig
</span><span class='line'>├── __tests__
</span><span class='line'>├── android
</span><span class='line'>├── app.json
</span><span class='line'>├── index.js
</span><span class='line'>├── ios
</span><span class='line'>├── node_modules
</span><span class='line'>├── package.json
</span><span class='line'>├── src
</span><span class='line'>└── yarn.lock</span></code></pre></td></tr></table></div></figure>


<h1>Directory of src tree</h1>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>▶ tree -L 1
</span><span class='line'>.
</span><span class='line'>├── actions
</span><span class='line'>├── components
</span><span class='line'>├── config
</span><span class='line'>├── fonts
</span><span class='line'>├── helpers
</span><span class='line'>├── i18n
</span><span class='line'>├── reducers
</span><span class='line'>└── screens</span></code></pre></td></tr></table></div></figure>


<h1>.eslintrc</h1>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{
</span><span class='line'>  "parser": "babel-eslint",
</span><span class='line'>  "extends": "airbnb",
</span><span class='line'>  "rules": {
</span><span class='line'>    "react/jsx-filename-extension": [1, { "extensions": [".js", ".jsx"] }],
</span><span class='line'>    "react/prop-types": [1],
</span><span class='line'>    "no-unused-vars": [1],
</span><span class='line'>    "no-use-before-define": [1, { "functions": true, "classes": true }],
</span><span class='line'>  },
</span><span class='line'>  "globals": {
</span><span class='line'>    "fetch": true,
</span><span class='line'>    "__DEV__": true,
</span><span class='line'>  }
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2018/02/27/jenkins-zhong-poll-scm-yu-build-periodically-chai-yi/">Jenkins 中 Poll SCM 與 Build Periodically 差異</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2018-02-27T11:00:34+08:00'><span class='date'><span class='date-month'>Feb</span> <span class='date-day'>27</span><span class='date-suffix'>th</span>, <span class='date-year'>2018</span></span> <span class='time'>11:00 am</span></time>
        
           | <a href="/blog/2018/02/27/jenkins-zhong-poll-scm-yu-build-periodically-chai-yi/#disqus_thread"
             data-disqus-identifier="http://whhotw.github.io/blog/2018/02/27/jenkins-zhong-poll-scm-yu-build-periodically-chai-yi/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h1>Poll SCM</h1>

<p>固定時間執行（假如代碼有改變）</p>

<p>*/5 * * * * （每 5 分鐘檢查一次）</p>

<h1>Build periodically</h1>

<p>固定時間執行（不管代碼是否改變）</p>

<p>0 2 * * * （每天 AM 2:00 執行一次）</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2018/02/13/ren-shi-jwt/">認識 JWT</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2018-02-13T13:19:20+08:00'><span class='date'><span class='date-month'>Feb</span> <span class='date-day'>13</span><span class='date-suffix'>th</span>, <span class='date-year'>2018</span></span> <span class='time'>1:19 pm</span></time>
        
           | <a href="/blog/2018/02/13/ren-shi-jwt/#disqus_thread"
             data-disqus-identifier="http://whhotw.github.io/blog/2018/02/13/ren-shi-jwt/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h1>流程圖</h1>

<p><img src="https://stormpath.com/wp-content/uploads/2016/05/Cookie-v-Token-Diagram-v1-3-1024x536.png" alt="" /></p>

<p>左邊是傳統的 <code>cookie-session</code> 的流程，右邊是使用 <code>token</code> 的流程，乍看是很類似的。也因為運作的慨念很類似，所以兩者之間的轉換幾乎沒什麼困難。</p>

<h1><a href="https://jwt.io">JWT</a></h1>

<p>因為我都是在寫 APP 比較多，因此選擇用 <code>token</code> 的機制去解決身份驗證的問題，在實作上會快很多，重點是 <code>lib</code> 人家都寫好了，呵呵</p>

<h2>What is JSON Web Token?</h2>

<blockquote><p>JSON Web Token (JWT) is an open standard (RFC 7519) that defines a compact and self-contained way for securely transmitting information between parties as a JSON object. This information can be verified and trusted because it is digitally signed. JWTs can be signed using a secret (with the HMAC algorithm) or a public/private key pair using RSA.</p>

<p>Let&rsquo;s explain some concepts of this definition further.</p>

<p>Compact: Because of their smaller size, JWTs can be sent through a URL, POST parameter, or inside an HTTP header. Additionally, the smaller size means transmission is fast.</p>

<p>Self-contained: The payload contains all the required information about the user, avoiding the need to query the database more than once.</p></blockquote>

<p>被定義在<a href="https://tools.ietf.org/html/rfc7519">RFC7519</a>，可使傳輸過程變得安全並有輕量與自我驗證的優勢</p>

<h2>When should you use JSON Web Tokens?</h2>

<blockquote><p>Here are some scenarios where JSON Web Tokens are useful:</p>

<p>Authentication: This is the most common scenario for using JWT. Once the user is logged in, each subsequent request will include the JWT, allowing the user to access routes, services, and resources that are permitted with that token. Single Sign On is a feature that widely uses JWT nowadays, because of its small overhead and its ability to be easily used across different domains.</p>

<p>Information Exchange: JSON Web Tokens are a good way of securely transmitting information between parties. Because JWTs can be signed—for example, using public/private key pairs—you can be sure the senders are who they say they are. Additionally, as the signature is calculated using the header and the payload, you can also verify that the content hasn&rsquo;t been tampered with.</p></blockquote>

<p>取自官網上的資訊，主要的目的就是身份驗證與資料交換</p>

<h2>What is the JSON Web Token structure?</h2>

<p>三個部分</p>

<ul>
<li>Header</li>
<li>Payload</li>
<li>Signature</li>
</ul>


<h3>Header</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{
</span><span class='line'>  "alg": "HS256",
</span><span class='line'>  "typ": "JWT"
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<h3>Payload</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{
</span><span class='line'>  "sub": "1234567890",
</span><span class='line'>  "name": "John Doe",
</span><span class='line'>  "admin": true
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<blockquote><p><a href="https://tools.ietf.org/html/rfc7519#section-4.1">Notice that the claim names are only three characters</a></p></blockquote>

<h3>Signature</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>HMACSHA256(
</span><span class='line'>  base64UrlEncode(header) + "." +
</span><span class='line'>  base64UrlEncode(payload),
</span><span class='line'>  secret)</span></code></pre></td></tr></table></div></figure>


<h1>參考資料</h1>

<ul>
<li><a href="https://jwt.io/introduction/">JWT</a></li>
<li><a href="https://auth0.com/blog/refresh-tokens-what-are-they-and-when-to-use-them/">Refresh Token</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Authorization">HTTP Authorization</a></li>
<li><a href="https://auth0.com/blog/cookies-vs-tokens-definitive-guide/">Cookie vs Token</a></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2018/02/08/sublime-setup-eslint-for-js/">Sublime Setup Eslint for RN</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2018-02-08T00:25:20+08:00'><span class='date'><span class='date-month'>Feb</span> <span class='date-day'>8</span><span class='date-suffix'>th</span>, <span class='date-year'>2018</span></span> <span class='time'>12:25 am</span></time>
        
           | <a href="/blog/2018/02/08/sublime-setup-eslint-for-js/#disqus_thread"
             data-disqus-identifier="http://whhotw.github.io/blog/2018/02/08/sublime-setup-eslint-for-js/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>我是使用 Sublime 3 的版本</p>

<h1>Install Sublime Package</h1>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>SublimeLinter // 先裝
</span><span class='line'>SublimeLinter-eslint</span></code></pre></td></tr></table></div></figure>


<h1>Manual</h1>

<p>or add on package.json</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>yarn add eslint --dev
</span><span class='line'>yarn add eslint-config-airbnb --dev
</span><span class='line'>yarn add eslint-plugin-import --dev
</span><span class='line'>yarn add eslint-plugin-react --dev
</span><span class='line'>yarn add eslint-plugin-jsx-a11y --dev
</span><span class='line'>yarn add babel-eslint --dev</span></code></pre></td></tr></table></div></figure>


<h1>Create .eslintrc</h1>

<p>located on project root</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{
</span><span class='line'>  "parser": "babel-eslint",
</span><span class='line'>  "extends": "airbnb",
</span><span class='line'>  "rules": {
</span><span class='line'>    "react/jsx-filename-extension": [1, { "extensions": [".js", ".jsx"] }],
</span><span class='line'>    "react/prop-types": [1],
</span><span class='line'>    "no-unused-vars": [1],
</span><span class='line'>    "no-use-before-define": [1, { "functions": true, "classes": true }],
</span><span class='line'>  },
</span><span class='line'>  "globals": {
</span><span class='line'>    "fetch": true,
</span><span class='line'>    "__DEV__": true,
</span><span class='line'>  }
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<blockquote><p>可以自訂規則寫在 <code>rules</code> 0 代表關閉、1 代表警告、2代表錯誤</p></blockquote>

<p>上述步驟做完，重開 Sublime 即可看到效果</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2018/02/05/rn-svg/">RN 中使用 SVG</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2018-02-05T10:43:32+08:00'><span class='date'><span class='date-month'>Feb</span> <span class='date-day'>5</span><span class='date-suffix'>th</span>, <span class='date-year'>2018</span></span> <span class='time'>10:43 am</span></time>
        
           | <a href="/blog/2018/02/05/rn-svg/#disqus_thread"
             data-disqus-identifier="http://whhotw.github.io/blog/2018/02/05/rn-svg/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h1>PNG、JPG</h1>

<p>在 <code>RN</code> 中載入圖片是非常容易的事情，可以使用</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>require('./mypng.png')
</span><span class='line'>require('./myjpg.jpg')</span></code></pre></td></tr></table></div></figure>


<p>這類的<a href="https://facebook.github.io/react-native/docs/image.html#source">寫法</a></p>

<h1>SVG</h1>

<p>假如是想載入 <code>.svg</code> 的話，就需要第三方的套件幫忙，或是轉成字型檔載入，以下是我使用字型檔的方式</p>

<blockquote><p>什麼是SVG？最大的優點就是縮放不會失真，細節可以<a href="https://zh.wikipedia.org/wiki/%E5%8F%AF%E7%B8%AE%E6%94%BE%E5%90%91%E9%87%8F%E5%9C%96%E5%BD%A2">參考</a></p></blockquote>

<h1>React-Native-Vector-Icons</h1>

<h2>Install</h2>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>npm install react-native-vector-icons
</span><span class='line'>react-native link</span></code></pre></td></tr></table></div></figure>


<h2>Generate .ttf and .json by Fontello or Icomoon</h2>

<p><a href="http://fontello.com/">Fontello</a>，<a href="https://icomoon.io/app">Icomoon</a></p>

<h2>Link</h2>

<ul>
<li>將 <code>.ttf</code> 放到專案中的 <code>fonts</code> 資料夾裡</li>
<li>在 <code>package.json</code> 中加入 <code>"rnpm": { "assets": ["fonts"] }</code></li>
<li>執行 <code>react-native link</code></li>
</ul>


<h2>Import</h2>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>import { createIconSetFromFontello } from 'react-native-vector-icons';
</span><span class='line'>import fontelloConfig from './config.json';
</span><span class='line'>const Icon = createIconSetFromFontello(fontelloConfig);</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2018/01/31/tcp-san-ci-wo-shou-slash-si-ci-wo-shou/">TCP 三次握手/四次握手</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2018-01-31T17:05:20+08:00'><span class='date'><span class='date-month'>Jan</span> <span class='date-day'>31</span><span class='date-suffix'>st</span>, <span class='date-year'>2018</span></span> <span class='time'>5:05 pm</span></time>
        
           | <a href="/blog/2018/01/31/tcp-san-ci-wo-shou-slash-si-ci-wo-shou/#disqus_thread"
             data-disqus-identifier="http://whhotw.github.io/blog/2018/01/31/tcp-san-ci-wo-shou-slash-si-ci-wo-shou/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>建立連線 => 三次握手(圖中紅色框框)</p>


<p>結束連線 => 四次握手(圖中藍色框框)</p>


<p><img src="http://img.my.csdn.net/uploads/201108/7/0_131271823564Rx.gif" alt="" /></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2018/01/31/leetcode-number-717-1-bit-and-2-bit-characters/">LeetCode #717. 1-bit and 2-bit Characters</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2018-01-31T10:38:51+08:00'><span class='date'><span class='date-month'>Jan</span> <span class='date-day'>31</span><span class='date-suffix'>st</span>, <span class='date-year'>2018</span></span> <span class='time'>10:38 am</span></time>
        
           | <a href="/blog/2018/01/31/leetcode-number-717-1-bit-and-2-bit-characters/#disqus_thread"
             data-disqus-identifier="http://whhotw.github.io/blog/2018/01/31/leetcode-number-717-1-bit-and-2-bit-characters/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>const len = bits.length - 1;
</span><span class='line'>let i = 0;
</span><span class='line'>while (i &lt; len) {
</span><span class='line'>    if (bits[i] === 0) {
</span><span class='line'>        i++;
</span><span class='line'>    } else if (bits[i] === 1) {
</span><span class='line'>        if (i + 1 === len) {
</span><span class='line'>            return false;
</span><span class='line'>        }
</span><span class='line'>        
</span><span class='line'>        i += 2;
</span><span class='line'>    }
</span><span class='line'>}
</span><span class='line'>    
</span><span class='line'>return true;</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/posts/2">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2018/03/20/fetch-api-content-type/">Fetch API Content-Type</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/03/14/yin-chu-osx-shang-de-ios-mo-ni-qi-qing-dan/">印出 OSX 上的模擬器</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/03/08/react-native-navigation-xian-shi-m-tou-ming-bei-jing/">React Native Navigation 顯示 Modal 透明背景</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/03/02/wo-zi-ji-de-rn-xiang-mu-pei-zhi/">我自己的 RN 項目配置</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/02/27/jenkins-zhong-poll-scm-yu-build-periodically-chai-yi/">Jenkins 中 Poll SCM 與 Build Periodically 差異</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>Categories</h1>
  <ul id="categories">
    <li class='category'><a href='/blog/categories/android/'>android (1)</a></li>
<li class='category'><a href='/blog/categories/command/'>command (1)</a></li>
<li class='category'><a href='/blog/categories/cordova/'>cordova (1)</a></li>
<li class='category'><a href='/blog/categories/git/'>git (3)</a></li>
<li class='category'><a href='/blog/categories/ios/'>ios (2)</a></li>
<li class='category'><a href='/blog/categories/javascript/'>javascript (8)</a></li>
<li class='category'><a href='/blog/categories/jenkins/'>jenkins (1)</a></li>
<li class='category'><a href='/blog/categories/leetcode/'>leetcode (6)</a></li>
<li class='category'><a href='/blog/categories/php/'>php (3)</a></li>
<li class='category'><a href='/blog/categories/react/'>react (1)</a></li>
<li class='category'><a href='/blog/categories/react-native/'>react-native (9)</a></li>
<li class='category'><a href='/blog/categories/sql/'>sql (1)</a></li>

  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/whhotw">@whhotw</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'whhotw',
            count: 5,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2018 - w -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'whhotw';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>









</body>
</html>
